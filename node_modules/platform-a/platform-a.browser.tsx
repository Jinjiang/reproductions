import React from "react";
import { createRoot } from "react-dom/client";
import {
  createBrowserRouter,
  RouterProvider,
} from "react-router-dom";

export const layout = new Map<string, JSX.Element>();

export const routes = new Set<{ path: string, element: JSX.Element }>();

const App = () => {
  const router = createBrowserRouter(
    Array.from(routes)
  );
  
  return (
    <div>
      <div>
        {Array.from(layout, ([key, value]) => (
          <div key={key} id={key}>
            {value}
          </div>
        ))}
      </div>
      <RouterProvider router={router} />
    </div>
  )
}

export const render = () => {
  const rootElement = document.getElementById("app");
  if (rootElement) {
    createRoot(rootElement).render(<App />);
  }
}
