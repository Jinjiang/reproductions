import express from 'express';

export type Service = {
  name: string,
  run: (port: number) => Promise<express.Express>
}

export const services = new Set<{
  server: Service,
  port: number
}>();

export const run = async () => {
  await Promise.all(Array.from(services).map(async (service) => {
    await service.server.run(service.port);
  }));
}
